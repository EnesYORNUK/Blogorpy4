<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - Blogorpy</title>
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/admin.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
</head>
<body class="admin-body">
    <!-- Admin Navigation -->
    <nav class="admin-nav">
        <div class="admin-nav-content">
            <div class="admin-nav-brand">Blogorpy Admin</div>
            <div class="admin-nav-actions">
                <div class="admin-user-info">
                    <div class="admin-avatar">A</div>
                    <span>Admin</span>
                </div>
                <button class="logout-btn" onclick="logout()">Çıkış</button>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="admin-main">
        <!-- Header Section -->
        <div class="admin-header-section">
            <div class="admin-welcome">
                <div class="admin-welcome-avatar">A</div>
                <div class="admin-welcome-text">
                    <h1>Hoş geldiniz, Admin!</h1>
                    <p>Blogorpy yönetim paneline hoş geldiniz. Buradan kullanıcıları ve postları yönetebilirsiniz.</p>
                </div>
            </div>

            <!-- Statistics -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-header">
                        <h3 class="stat-title">Toplam Kullanıcı</h3>
                        <div class="stat-icon users">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M16 7C16 9.20914 14.2091 11 12 11C9.79086 11 8 9.20914 8 7C8 4.79086 9.79086 3 12 3C14.2091 3 16 4.79086 16 7Z" stroke="currentColor" stroke-width="2"/>
                                <path d="M12 14C8.13401 14 5 17.134 5 21H19C19 17.134 15.866 14 12 14Z" stroke="currentColor" stroke-width="2"/>
                            </svg>
                        </div>
                    </div>
                    <h2 class="stat-number" id="totalUsers">-</h2>
                </div>

                <div class="stat-card">
                    <div class="stat-header">
                        <h3 class="stat-title">Toplam Post</h3>
                        <div class="stat-icon posts">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M14 2H6C4.89543 2 4 2.89543 4 4V20C4 21.1046 4.89543 22 6 22H18C19.1046 22 20 21.1046 20 20V8L14 2Z" stroke="currentColor" stroke-width="2"/>
                                <path d="M14 2V8H20" stroke="currentColor" stroke-width="2"/>
                                <path d="M16 13H8" stroke="currentColor" stroke-width="2"/>
                                <path d="M16 17H8" stroke="currentColor" stroke-width="2"/>
                                <path d="M10 9H8" stroke="currentColor" stroke-width="2"/>
                            </svg>
                        </div>
                    </div>
                    <h2 class="stat-number" id="totalPosts">-</h2>
                </div>

                <div class="stat-card">
                    <div class="stat-header">
                        <h3 class="stat-title">Toplam Beğeni</h3>
                        <div class="stat-icon likes">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M20.84 4.61C20.3292 4.099 19.7228 3.69364 19.0554 3.41708C18.3879 3.14052 17.6725 2.99817 16.95 2.99817C16.2275 2.99817 15.5121 3.14052 14.8446 3.41708C14.1772 3.69364 13.5708 4.099 13.06 4.61L12 5.67L10.94 4.61C9.9083 3.5783 8.50903 2.9987 7.05 2.9987C5.59096 2.9987 4.19169 3.5783 3.16 4.61C2.1283 5.6417 1.5487 7.04097 1.5487 8.5C1.5487 9.95903 2.1283 11.3583 3.16 12.39L12 21.23L20.84 12.39C21.351 11.8792 21.7563 11.2728 22.0329 10.6053C22.3095 9.93789 22.4518 9.22248 22.4518 8.5C22.4518 7.77752 22.3095 7.06211 22.0329 6.39467C21.7563 5.72723 21.351 5.1208 20.84 4.61V4.61Z" stroke="currentColor" stroke-width="2"/>
                            </svg>
                        </div>
                    </div>
                    <h2 class="stat-number" id="totalLikes">-</h2>
                </div>

                <div class="stat-card">
                    <div class="stat-header">
                        <h3 class="stat-title">Toplam Görüntüleme</h3>
                        <div class="stat-icon views">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M1 12S5 4 12 4s11 8 11 8-4 8-11 8S1 12 1 12z" stroke="currentColor" stroke-width="2"/>
                                <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="2"/>
                            </svg>
                        </div>
                    </div>
                    <h2 class="stat-number" id="totalViews">-</h2>
                </div>
            </div>
        </div>

        <!-- Tabs -->
        <div class="admin-tabs">
            <button class="tab-btn active" onclick="switchTab('users')">Kullanıcılar</button>
            <button class="tab-btn" onclick="switchTab('posts')">Postlar</button>
        </div>

        <!-- Users Tab -->
        <div class="tab-content active" id="usersTab">
            <div class="content-header">
                <h2 class="content-title">Kullanıcı Yönetimi</h2>
                <div class="content-actions">
                    <input type="text" class="search-box" placeholder="Kullanıcı ara..." id="userSearch">
                    <button class="refresh-btn" onclick="loadUsers()">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M1 4V10H7" stroke="currentColor" stroke-width="2"/>
                            <path d="M23 20V14H17" stroke="currentColor" stroke-width="2"/>
                            <path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10M23 14L18.36 18.36A9 9 0 0 1 3.51 15" stroke="currentColor" stroke-width="2"/>
                        </svg>
                        Yenile
                    </button>
                    <button class="bulk-delete-btn" id="bulkDeleteUsers" onclick="bulkDeleteUsers()">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M3 6H5H21" stroke="currentColor" stroke-width="2"/>
                            <path d="M8 6V4C8 3.44772 8.44772 3 9 3H15C15.5523 3 16 3.44772 16 4V6M19 6V20C19 21.1046 18.1046 22 17 22H7C5.89543 22 5 21.1046 5 20V6H19Z" stroke="currentColor" stroke-width="2"/>
                        </svg>
                        Seçilenleri Sil
                    </button>
                </div>
            </div>

            <div id="usersTableContainer">
                <div class="loading-state">
                    <div class="loading-spinner"></div>
                    <p>Kullanıcılar yükleniyor...</p>
                </div>
            </div>
        </div>

        <!-- Posts Tab -->
        <div class="tab-content" id="postsTab">
            <div class="content-header">
                <h2 class="content-title">Post Yönetimi</h2>
                <div class="content-actions">
                    <input type="text" class="search-box" placeholder="Post ara..." id="postSearch">
                    <select class="search-box" id="categoryFilter" style="width: 150px;">
                        <option value="">Tüm Kategoriler</option>
                        <option value="technology">Teknoloji</option>
                        <option value="lifestyle">Yaşam Tarzı</option>
                        <option value="travel">Seyahat</option>
                        <option value="food">Yemek</option>
                        <option value="health">Sağlık</option>
                        <option value="business">İş</option>
                        <option value="education">Eğitim</option>
                        <option value="entertainment">Eğlence</option>
                    </select>
                    <button class="refresh-btn" onclick="loadPosts()">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M1 4V10H7" stroke="currentColor" stroke-width="2"/>
                            <path d="M23 20V14H17" stroke="currentColor" stroke-width="2"/>
                            <path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10M23 14L18.36 18.36A9 9 0 0 1 3.51 15" stroke="currentColor" stroke-width="2"/>
                        </svg>
                        Yenile
                    </button>
                    <button class="bulk-delete-btn" id="bulkDeletePosts" onclick="bulkDeletePosts()">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M3 6H5H21" stroke="currentColor" stroke-width="2"/>
                            <path d="M8 6V4C8 3.44772 8.44772 3 9 3H15C15.5523 3 16 3.44772 16 4V6M19 6V20C19 21.1046 18.1046 22 17 22H7C5.89543 22 5 21.1046 5 20V6H19Z" stroke="currentColor" stroke-width="2"/>
                        </svg>
                        Seçilenleri Sil
                    </button>
                </div>
            </div>

            <div id="postsTableContainer">
                <div class="loading-state">
                    <div class="loading-spinner"></div>
                    <p>Postlar yükleniyor...</p>
                </div>
            </div>
        </div>
    </main>

    <!-- Edit User Modal -->
    <div class="modal" id="editUserModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Kullanıcı Düzenle</h3>
                <button class="modal-close" onclick="closeModal('editUserModal')">&times;</button>
            </div>
            <form class="modal-form" id="editUserForm">
                <div class="form-group">
                    <label class="form-label">Ad Soyad</label>
                    <input type="text" class="form-input" id="editUserName" required>
                </div>
                <div class="form-group">
                    <label class="form-label">E-posta</label>
                    <input type="email" class="form-input" id="editUserEmail" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Biyografi</label>
                    <textarea class="form-textarea" id="editUserBio" placeholder="Kullanıcı hakkında..."></textarea>
                </div>
                <div class="modal-actions">
                    <button type="button" class="modal-btn modal-btn-secondary" onclick="closeModal('editUserModal')">İptal</button>
                    <button type="submit" class="modal-btn modal-btn-primary">Kaydet</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Edit Post Modal -->
    <div class="modal" id="editPostModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Post Düzenle</h3>
                <button class="modal-close" onclick="closeModal('editPostModal')">&times;</button>
            </div>
            <form class="modal-form" id="editPostForm">
                <div class="form-group">
                    <label class="form-label">Başlık</label>
                    <input type="text" class="form-input" id="editPostTitle" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Kategori</label>
                    <select class="form-select" id="editPostCategory" required>
                        <option value="">Kategori seçin</option>
                        <option value="technology">Teknoloji</option>
                        <option value="lifestyle">Yaşam Tarzı</option>
                        <option value="travel">Seyahat</option>
                        <option value="food">Yemek</option>
                        <option value="health">Sağlık</option>
                        <option value="business">İş</option>
                        <option value="education">Eğitim</option>
                        <option value="entertainment">Eğlence</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Özet</label>
                    <textarea class="form-textarea" id="editPostExcerpt" placeholder="Post özeti..."></textarea>
                </div>
                <div class="modal-actions">
                    <button type="button" class="modal-btn modal-btn-secondary" onclick="closeModal('editPostModal')">İptal</button>
                    <button type="submit" class="modal-btn modal-btn-primary">Kaydet</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div class="modal delete-modal" id="deleteModal">
        <div class="modal-content">
            <div class="delete-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M3 6H5H21" stroke="currentColor" stroke-width="2"/>
                    <path d="M8 6V4C8 3.44772 8.44772 3 9 3H15C15.5523 3 16 3.44772 16 4V6M19 6V20C19 21.1046 18.1046 22 17 22H7C5.89543 22 5 21.1046 5 20V6H19Z" stroke="currentColor" stroke-width="2"/>
                </svg>
            </div>
            <h3 class="modal-title">Silme Onayı</h3>
            <p class="modal-text" id="deleteModalText">Bu işlemi geri alamazsınız. Emin misiniz?</p>
            <div class="modal-actions">
                <button type="button" class="modal-btn modal-btn-secondary" onclick="closeModal('deleteModal')">İptal</button>
                <button type="button" class="modal-btn modal-btn-primary" id="confirmDeleteBtn" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);">Sil</button>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="scripts/config.js"></script>
    <script src="https://unpkg.com/@supabase/supabase-js@2.49.8/dist/umd/supabase.js"></script>
    <script src="scripts/supabase.js"></script>
    <script src="scripts/admin.js"></script>
</body>
</html> 
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Post - Blogorpy</title>
    <meta name="description" content="Create and publish your blog post">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/assets/favicon.ico">
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <!-- Styles -->
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/create-post.css">
    
    <!-- Rich Text Editor -->
    <link href="https://cdn.quilljs.com/1.3.7/quill.snow.css" rel="stylesheet">
    
    <!-- Supabase -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar" id="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <a href="index.html">
                    <h1>Blogorpy</h1>
                </a>
            </div>
            <div class="nav-menu" id="nav-menu">
                <a href="index.html" class="nav-link">Home</a>
                <a href="index.html#posts" class="nav-link">Posts</a>
                <a href="about.html" class="nav-link">About</a>
                <a href="contact.html" class="nav-link">Contact</a>
            </div>
            <div class="nav-auth" id="nav-auth">
                <button class="btn btn-outline" id="login-btn">Login</button>
                <button class="btn btn-primary" id="register-btn">Register</button>
            </div>
            <div class="nav-user hidden" id="nav-user">
                <button class="btn btn-primary" id="create-post-btn">
                    <i class="fas fa-plus"></i> New Post
                </button>
                <div class="user-dropdown">
                    <button class="user-avatar" id="user-avatar">
                        <i class="fas fa-user"></i>
                    </button>
                    <div class="dropdown-menu" id="dropdown-menu">
                        <a href="profile.html" id="profile-link">Profile</a>
                        <a href="#" id="saved-posts-link">Saved Posts</a>
                        <a href="#" id="logout-btn">Logout</a>
                    </div>
                </div>
            </div>
            <button class="hamburger" id="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
    </nav>

    <!-- Create Post Container -->
    <main class="create-post-container">
        <div class="container">
            <!-- Post Editor Header -->
            <div class="editor-header">
                <div class="editor-title">
                    <h1>Create New Post</h1>
                    <p>Share your thoughts with the world</p>
                </div>
                <div class="editor-actions">
                    <button class="btn btn-outline" id="save-draft-btn">
                        <i class="fas fa-save"></i> Save Draft
                    </button>
                    <button class="btn btn-primary" id="publish-btn">
                        <i class="fas fa-paper-plane"></i> Publish
                    </button>
                </div>
            </div>

            <!-- Post Form -->
            <form class="post-form" id="post-form">
                <div class="form-row">
                    <!-- Main Content -->
                    <div class="main-content">
                        <!-- Post Title -->
                        <div class="form-group">
                            <label for="post-title" class="form-label">Post Title *</label>
                            <input 
                                type="text" 
                                id="post-title" 
                                name="title" 
                                class="form-input title-input" 
                                placeholder="Enter an engaging title for your post..."
                                required
                                maxlength="100"
                            >
                            <small class="char-count">
                                <span id="title-char-count">0</span>/100 characters
                            </small>
                        </div>

                        <!-- Post Excerpt -->
                        <div class="form-group">
                            <label for="post-excerpt" class="form-label">Excerpt</label>
                            <textarea 
                                id="post-excerpt" 
                                name="excerpt" 
                                class="form-input excerpt-input" 
                                rows="3"
                                placeholder="Brief description of your post (optional)..."
                                maxlength="300"
                            ></textarea>
                            <small class="char-count">
                                <span id="excerpt-char-count">0</span>/300 characters
                            </small>
                        </div>

                        <!-- Featured Image -->
                        <div class="form-group">
                            <label class="form-label">Featured Image</label>
                            <div class="image-upload" id="image-upload">
                                <div class="upload-area" id="upload-area">
                                    <div class="upload-placeholder">
                                        <i class="fas fa-cloud-upload-alt"></i>
                                        <h3>Upload Featured Image</h3>
                                        <p>Drag and drop an image here, or click to select</p>
                                        <button type="button" class="btn btn-outline">Choose File</button>
                                    </div>
                                    <input type="file" id="featured-image" name="featured_image" accept="image/*" class="hidden">
                                </div>
                                <div class="image-preview hidden" id="image-preview">
                                    <img id="preview-img" src="" alt="Preview">
                                    <div class="image-actions">
                                        <button type="button" class="btn btn-sm btn-outline" id="change-image">
                                            <i class="fas fa-edit"></i> Change
                                        </button>
                                        <button type="button" class="btn btn-sm btn-danger" id="remove-image">
                                            <i class="fas fa-trash"></i> Remove
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Content Editor -->
                        <div class="form-group">
                            <label class="form-label">Content *</label>
                            <div class="editor-container">
                                <div id="post-content" class="post-editor"></div>
                            </div>
                            <small class="editor-help">
                                Use the toolbar above to format your content. You can add headings, lists, links, and more.
                            </small>
                        </div>
                    </div>

                    <!-- Sidebar -->
                    <div class="sidebar">
                        <!-- Publish Settings -->
                        <div class="sidebar-section">
                            <h3><i class="fas fa-cog"></i> Publish Settings</h3>
                            
                            <div class="form-group">
                                <label class="toggle-label">
                                    <input type="checkbox" id="published" name="published">
                                    <span class="toggle-slider"></span>
                                    Publish immediately
                                </label>
                                <small>Uncheck to save as draft</small>
                            </div>

                            <div class="form-group">
                                <label class="toggle-label">
                                    <input type="checkbox" id="comments-enabled" name="comments_enabled" checked>
                                    <span class="toggle-slider"></span>
                                    Enable comments
                                </label>
                            </div>
                        </div>

                        <!-- Categories -->
                        <div class="sidebar-section">
                            <h3><i class="fas fa-folder"></i> Category</h3>
                            <div class="form-group">
                                <select id="post-category" name="category" class="form-input">
                                    <option value="">Select a category</option>
                                    <option value="technology">Technology</option>
                                    <option value="lifestyle">Lifestyle</option>
                                    <option value="travel">Travel</option>
                                    <option value="food">Food</option>
                                    <option value="health">Health</option>
                                    <option value="business">Business</option>
                                    <option value="education">Education</option>
                                    <option value="entertainment">Entertainment</option>
                                    <option value="sports">Sports</option>
                                    <option value="other">Other</option>
                                </select>
                            </div>
                        </div>

                        <!-- Tags -->
                        <div class="sidebar-section">
                            <h3><i class="fas fa-tags"></i> Tags</h3>
                            <div class="form-group">
                                <div class="tags-input" id="tags-input">
                                    <div class="tags-container" id="tags-container"></div>
                                    <input 
                                        type="text" 
                                        id="tag-input" 
                                        placeholder="Add tags..."
                                        class="tag-field"
                                    >
                                </div>
                                <small>Press Enter or comma to add tags</small>
                            </div>
                        </div>

                        <!-- SEO Settings -->
                        <div class="sidebar-section">
                            <h3><i class="fas fa-search"></i> SEO</h3>
                            
                            <div class="form-group">
                                <label for="meta-description" class="form-label">Meta Description</label>
                                <textarea 
                                    id="meta-description" 
                                    name="meta_description" 
                                    class="form-input" 
                                    rows="3"
                                    placeholder="SEO description for search engines..."
                                    maxlength="160"
                                ></textarea>
                                <small class="char-count">
                                    <span id="meta-char-count">0</span>/160 characters
                                </small>
                            </div>

                            <div class="form-group">
                                <label for="post-slug" class="form-label">URL Slug</label>
                                <input 
                                    type="text" 
                                    id="post-slug" 
                                    name="slug" 
                                    class="form-input" 
                                    placeholder="url-friendly-slug"
                                >
                                <small>Leave empty to auto-generate from title</small>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </main>

    <!-- Loading Overlay -->
    <div class="loading-overlay hidden" id="loading-overlay">
        <div class="loading-spinner">
            <i class="fas fa-spinner fa-spin"></i>
            <p>Processing...</p>
        </div>
    </div>

    <!-- Toast Container -->
    <div class="toast-container" id="toast-container"></div>

    <!-- Preview Modal -->
    <div class="modal" id="preview-modal">
        <div class="modal-overlay"></div>
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h3>Post Preview</h3>
                <button class="modal-close" id="close-preview-modal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="post-preview" id="post-preview-content">
                    <!-- Preview content will be generated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.quilljs.com/1.3.7/quill.min.js"></script>
    <script src="config.js"></script>
    <script src="scripts/supabase-config.js"></script>
    <script src="scripts/auth.js"></script>
    <script src="scripts/create-post.js"></script>
    <script src="scripts/main.js"></script>
    
    <script>        // Initialize post editor        document.addEventListener('DOMContentLoaded', function() {            if (typeof PostEditor !== 'undefined') {                window.postEditor = new PostEditor();            }        });    </script>
</body>
</html> 